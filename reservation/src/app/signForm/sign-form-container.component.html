<button type="button" class="btn btn-primary" (click)="openModal(template)">Sign Up</button>

<ng-template #template>
  <div class="sign-form-wrapper ">
    <form #signForm="ngForm" (ngSubmit)="onSubmit(signForm)">
      <h2 class="sign-header">Welcome</h2>
      <div class="form-group has-float-label">
        <input type=" text " class="form-control " name="username " [(ngModel)]="user.username " #username="ngModel" placeholder="이름" required>
        <label for="signform-InputName">
          <span>Name</span>
        </label>
        <em *ngIf="username.errors?.required && username.touched " class="alert ">이름을 입력하세요!</em>
      </div>
      <div class="form-group has-float-label">
        <input type="email " placeholder="이메일 주소 " name="userid " class="form-control " [(ngModel)]="user.userid " #userid="ngModel" pattern="^[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_\.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$ " required>
        <label for="signform-InputEmail ">
          <span>Email</span>
        </label>
        <em *ngIf="userid.errors?.pattern && userid.touched " class="alert ">User id는 email 형식으로 입력하세요!</em>
        <em *ngIf="userid.errors?.required && userid.touched " class="alert ">User id로 사용할 email을 입력하세요!</em>
      </div>
      <div class="form-group has-float-label">
        <input type="password " name="password" class="form-control" [(ngModel)]="user.password " #password="ngModel" pattern="[a-zA-Z0-9]{4,10} " placeholder="패스워드 " required>
        <label for="signform-InputPassword ">
          <span>Password</span>
        </label>

        <em *ngIf="password.errors?.pattern && password.touched " class="alert ">
          Password는 영문 또는 숫자로 4자리 이상 10이하로 입력하세요!
        </em>
        <em *ngIf="password.errors?.required && password.touched " class="alert ">
          Password를 입력하세요!
        </em>
      </div>
      <div class="form-group has-float-label">
        <input type="password " name="password2 " class="form-control " [(ngModel)]="user.password2 " #password2="ngModel" pattern="[a-zA-Z0-9] " placeholder="패스워드를 확인 " required>
        <label for="signform-InputConfirmPassword ">
          <span>Confirm Password</span>
        </label>
        <em *ngIf="password2.value !== password.value && password.touched" class="alert ">
          Password가 일치하지 않습니다.!
        </em>
        <em *ngIf="password.errors?.required && password.touched " class="alert "> </em>
      </div>


      <button type="submit " class="btn btn-primary btn-join " (click)="openModal2(templateNested)">Join</button>
      <button type=" button " class="btn btn-primary btn-facebook ">Facebook으로 로그인하기</button>
    </form>
  </div>
</ng-template>

<!-- <pre>invalid:  {{signForm.value | json}} </pre>
<pre>invalid:  {{signForm.invalid | json}} </pre>
<pre>invalid:  {{password2.invalid | json}} </pre> -->

<ng-template #templateNested>
  <div class="notice-wrapper ">
    <form>
      <div class="text-center ">
        <p class="email-img ">
          <img src="../../assets/sign-img/email.png " width="150 " class="email-icon ">
        </p>
        <h2>이메일 확인하기</h2>
        <br>
        <h4>JINJI에서 보낸 이메일을 확인 해주세요</h4>
        <h4>이메일에 기재된 이메일 인증 버튼을 눌러 재접속 해주세요</h4>
        <br>
        <!-- <input class="form-control " id="disabledInput " type="text " placeholder="{{user.userid}} " disabled> -->
        <button type="submit " class="btn btn-primary " (click)="openModal3(templateSuccess) ">인증 메일 재전송</button>
      </div>
    </form>
  </div>
</ng-template>

<ng-template #templateSuccess>
  <div class="success-wrapper ">
    <form>
      <div class="text-center ">
        <p class="email-img ">
          <img src="../../assets/sign-img/ok-email.png " width="150 " class="email-icon ">
        </p>
        <h2>이메일 인증 성공</h2>
        <br>
        <h4>로그인 후 JINJI의 레스토랑을 둘러보세요</h4>
        <h4></h4>
        <br>
        <!-- <input class="form-control " id="disabledInput " type="text " placeholder="{{user.userid}} " disabled> -->
        <button type="submit " class="btn btn-primary " (click)="openModal4(templateSetting) ">로그인 하기</button>
      </div>
    </form>
  </div>
</ng-template>

<ng-template #templateSetting>
  <div class=" welcome-wrapper ">
    <form class="wlecome-form ">
      <div class="text-center welcome-text ">
        <br>
        <h2 class="welcome-corpname ">JINJI </h2>
        <h2>{{user.username}}고객님 환영합니다 </h2>
        <br>
        <h4>저희는 고객님 맞춤 레스토랑을 제안해드립니다.<br> 예약을 위해 몇 가지 세부사항을 설정 해주세요</h4>
        <br>

        <button class="btn btn-primary ">세부사항 설정하러 가기</button>
      </div>
    </form>
  </div>
</ng-template>